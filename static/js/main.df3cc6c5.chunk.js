(this["webpackJsonproute-editor"]=this["webpackJsonproute-editor"]||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),c=n(3),i=n.n(c),a=(n(17),n(9)),s=n(2),l=n(4),d=n(1),u=function(e){var t=e.onAdd,n=Object(o.useState)(""),r=Object(l.a)(n,2),c=r[0],i=r[1];return Object(d.jsx)("form",{onSubmit:function(e){e.preventDefault(),c&&(t(c),i(""))},children:Object(d.jsx)("input",{type:"text",className:"form-control",placeholder:"\u041d\u043e\u0432\u0430\u044f \u0442\u043e\u0447\u043a\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430",value:c,onChange:function(e){i(e.currentTarget.value)}})})},j=n(6),b=function(e){var t=e.point,n=e.onRemove,o=e.index;return Object(d.jsx)(j.b,{draggableId:t.coordinates.toString(),index:o,children:function(e){return Object(d.jsxs)("li",Object(s.a)(Object(s.a)(Object(s.a)({className:"list-group-item d-flex justify-content-between align-items-center",ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[Object(d.jsx)("span",{className:"overflow-hidden",style:{textOverflow:"ellipsis"},children:t.title}),Object(d.jsx)("button",{className:"btn btn-sm","aria-label":"delete",onClick:function(){return n(t)},children:"\xd7"})]}))}})},f=function(e){var t=e.points,n=e.onRemove,o=e.onOrderList;if(0===t.length)return null;return Object(d.jsx)(j.a,{onDragEnd:function(e){if(e.destination){var n=Object(a.a)(t),r=n.splice(e.source.index,1),c=Object(l.a)(r,1)[0];n.splice(e.destination.index,0,c),o(n)}},children:Object(d.jsx)(j.c,{droppableId:"routePoints",children:function(e){return Object(d.jsxs)("ul",Object(s.a)(Object(s.a)({className:"list-group",ref:e.innerRef},e.droppableProps),{},{children:[t.map((function(e,t){return Object(d.jsx)(b,{point:e,onRemove:n,index:t},e.coordinates.toString())})),e.placeholder]}))}})})},p=n(7),O=function(e){var t=e.points,n=e.mapCenter,r=e.onMoveMapCenter,c=e.onMovePlacemark,i=Object(o.useRef)(null);return Object(d.jsx)(p.d,{query:{apikey:"b5253e71-b960-4a18-8f62-fc7288f7dfb6"},children:Object(d.jsxs)(p.a,{width:"100%",height:"100%",state:{center:n,zoom:9},onActionEnd:function(e){var t=e.originalEvent.map.getCenter();r(t)},modules:["geocode"],onLoad:function(e){i.current=e},children:[t.map((function(e){return Object(d.jsx)(p.b,{geometry:e.coordinates,properties:{balloonContentHeader:e.title},options:{draggable:!0},modules:["geoObject.addon.balloon"],onDragEnd:function(t){var n=t.originalEvent.target.geometry.getCoordinates();c(e,n)},onClick:function(t){var n=t.get("target");i.current.geocode(e.coordinates).then((function(e){var t=e.geoObjects.get(0).getAddressLine();n.properties.set({balloonContent:t})})).catch((function(e){return console.log(e)}))}},e.coordinates.toString())})),Object(d.jsx)(p.c,{geometry:t.map((function(e){return e.coordinates})),options:{balloonCloseButton:!1,strokeColor:"#000",strokeWidth:4,strokeOpacity:.5}})]})})};var m=function(){var e=Object(o.useState)([]),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(o.useRef)([55.75,37.57]);return Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"row pt-3",children:[Object(d.jsxs)("div",{className:"col-12 col-md-5 mb-1",children:[Object(d.jsx)("div",{className:"pb-2",children:Object(d.jsx)(u,{onAdd:function(e){var t={title:e,coordinates:c.current};r([].concat(Object(a.a)(n),[t]))}})}),Object(d.jsx)("div",{children:Object(d.jsx)(f,{points:n,onRemove:function(e){r(n.filter((function(t){return t!==e})))},onOrderList:function(e){return r(e)}})})]}),Object(d.jsx)("div",{className:"col-12 col-md-7 mt-3 mt-md-0",style:{aspectRatio:"1 / 1"},children:Object(d.jsx)(O,{points:n,mapCenter:c.current,onMoveMapCenter:function(e){c.current=e},onMovePlacemark:function(e,t){r(n.map((function(n){return n===e?Object(s.a)(Object(s.a)({},n),{},{coordinates:t}):n})))}})})]})})};n(26);i.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(m,{})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.df3cc6c5.chunk.js.map